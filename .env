# Global Bantora Docker configuration
BANTORA_NETWORK_NAME=bantora-network
BANTORA_NETWORK_DRIVER=bridge
BANTORA_RESTART_POLICY=no
BANTORA_USER=bantora
BANTORA_GROUP=bantora
BANTORA_UID=1000
BANTORA_GID=1000
BANTORA_LOG_DEST=/var/log/bantora
BANTORA_TIME_ZONE=Africa/Johannesburg
BANTORA_SPRING_PROFILE=dev
BANTORA_CONFIG_LOCATION=/opt/bantora/config

# Health check configuration
BANTORA_HEALTH_CHECK_INTERVAL=30s
BANTORA_HEALTH_CHECK_TIMEOUT=10s
BANTORA_HEALTH_CHECK_RETRIES=3
BANTORA_HEALTH_CHECK_START_PERIOD=180s

# Database configuration
DB_CONTAINER_NAME=bantora-database
DB_PORT=5433
DB_INTERNAL_PORT=5432
DB_LOG_PATH=./logs/database
DB_LOG_DEST=/var/log/postgresql

# Database logging configuration
DB_LOG_FILENAME=postgresql-%Y-%m-%d_%H%M%S.log
DB_LOG_FILE_MODE=0600
DB_LOG_ROTATION_AGE=1d
DB_LOG_ROTATION_SIZE=10MB
DB_LOG_MIN_MESSAGES=warning
DB_LOG_MIN_ERROR_STATEMENT=error
DB_LOG_CONNECTIONS=on
DB_LOG_DISCONNECTIONS=off
DB_LOG_STATEMENT=none

# DB credentials
DB_NAME=bantora_db
DB_USERNAME=bantora_user
DB_PASSWORD=bantora_password_2025
DB_HEALTH_CMD="pg_isready -U ${DB_USERNAME} -d ${DB_NAME}"

# API configuration
API_CONTAINER_NAME=bantora-api
API_PORT=8081
API_INTERNAL_PORT=8081
API_LOG_PATH=./logs/api
API_BUILD_CONTEXT=.
API_HEALTH_CMD="curl -f http://localhost:${API_INTERNAL_PORT}/actuator/health"

# Web configuration
WEB_CONTAINER_NAME=bantora-web
WEB_PORT=8080
WEB_INTERNAL_PORT=8080
WEB_LOG_PATH=./logs/web
WEB_BUILD_CONTEXT=.
WEB_HEALTH_CMD="curl -f http://localhost:${WEB_INTERNAL_PORT}/actuator/health"

# Java configuration
JAVA_OPTS="-Xmx1024m -Xms512m -XX:+UseG1GC"
SPRING_PROFILES_ACTIVE=dev

# API base URL
API_BASE_URL=http://localhost:${API_INTERNAL_PORT}/api

# API CORS configuration (comma-separated allowed origins)
BANTORA_ALLOWED_ORIGINS=http://localhost:${WEB_INTERNAL_PORT},http://localhost:8080,http://localhost:8083

# JWT Security Configuration
BANTORA_JWT_SECRET=e69drMv+bTGR8tx1z+vyibxrO54P18s3PvYZe7UOfReOwVcALL+fEMRQThvlkcFIVNAF1+ML3MxJVMFpQmhKCw==
BANTORA_JWT_ACCESS_TOKEN_EXPIRATION_MS=900000
BANTORA_JWT_REFRESH_TOKEN_EXPIRATION_MS=604800000
BANTORA_JWT_ISSUER=bantora-api
BANTORA_JWT_AUDIENCE=bantora-users

# Argon2id Configuration
BANTORA_ARGON2_ITERATIONS=3
BANTORA_ARGON2_MEMORY=65536
BANTORA_ARGON2_PARALLELISM=4
BANTORA_ARGON2_SALT_LENGTH=32
BANTORA_ARGON2_HASH_LENGTH=64

# Rate Limiting Configuration
BANTORA_RATE_LIMIT_ENABLED=true
BANTORA_RATE_LIMIT_REQUESTS_PER_MINUTE=100
BANTORA_RATE_LIMIT_BURST_CAPACITY=150

# Redis configuration
REDIS_CONTAINER_NAME=bantora-redis
REDIS_PORT=6380
REDIS_INTERNAL_PORT=6379
REDIS_PASSWORD=bantora_redis_2025
REDIS_HEALTH_CMD="redis-cli -a ${REDIS_PASSWORD} ping"

# Gateway configuration
GATEWAY_CONTAINER_NAME=bantora-gateway
GATEWAY_IMAGE=nginx:alpine
GATEWAY_PORT=8083
GATEWAY_INTERNAL_PORT=8083
GATEWAY_HEALTH_CMD="curl -f http://localhost:${GATEWAY_INTERNAL_PORT}/health"
GATEWAY_LOG_PATH=./logs/gateway
GATEWAY_NGINX_CONFIG=./bantora-gateway/nginx.conf

# SMS Configuration (Twilio or Africa's Talking)
BANTORA_SMS_PROVIDER=twilio
BANTORA_SMS_ACCOUNT_SID=your_twilio_account_sid
BANTORA_SMS_AUTH_TOKEN=your_twilio_auth_token
BANTORA_SMS_FROM_NUMBER=+263771234567
BANTORA_SMS_VERIFICATION_CODE_LENGTH=6
BANTORA_SMS_VERIFICATION_CODE_EXPIRY_MINUTES=10
BANTORA_SMS_MAX_ATTEMPTS=3

# Multi-language Configuration
BANTORA_DEFAULT_LOCALE=en
BANTORA_SUPPORTED_LOCALES=en,sw,yo,zu,am,ar,fr,pt,ha,ig,so,af,sn

# Regional Configuration
BANTORA_REGIONS=SADC,ECOWAS,EAC,AU
BANTORA_COUNTRIES_SADC=ZA,BW,ZW,MZ,NA,ZM,MW,AO,LS,SZ,TZ,CD,MG,MU,SC
BANTORA_COUNTRIES_ECOWAS=NG,GH,SN,CI,ML,BF,NE,TG,BJ,GW,SL,LR,GM,CV
BANTORA_COUNTRIES_EAC=KE,TZ,UG,RW,BI,SS
BANTORA_COUNTRIES_AU=ALL

# Poll Configuration
BANTORA_POLL_MIN_OPTIONS=2
BANTORA_POLL_MAX_OPTIONS=10
BANTORA_POLL_MIN_DURATION_HOURS=24
BANTORA_POLL_MAX_DURATION_DAYS=90
BANTORA_POLL_APPROVAL_REQUIRED=true
BANTORA_POLL_AI_MODERATION_ENABLED=false

# Application URLs
BANTORA_APP_BASE_URL=http://localhost:${GATEWAY_INTERNAL_PORT}
